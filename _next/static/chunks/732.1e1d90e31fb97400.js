"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[732],{4368:function(e){var n;n=function(){function e(e){var n,r,s=[];return e.AMapUI&&s.push((n=e.AMapUI,new Promise(function(e,r){var s=[];if(n.plugins)for(var l=0;l<n.plugins.length;l+=1)-1==a.AMapUI.plugins.indexOf(n.plugins[l])&&s.push(n.plugins[l]);if(t.AMapUI===o.failed)r("前次请求 AMapUI 失败");else if(t.AMapUI===o.notload){t.AMapUI=o.loading,a.AMapUI.version=n.version||a.AMapUI.version,l=a.AMapUI.version;var c=document.body||document.head,u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/ui/"+l+"/main.js",u.onerror=function(e){t.AMapUI=o.failed,r("请求 AMapUI 失败")},u.onload=function(){if(t.AMapUI=o.loaded,s.length)window.AMapUI.loadUI(s,function(){for(var n=0,o=s.length;n<o;n++){var a=s[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}for(e();i.AMapUI.length;)i.AMapUI.splice(0,1)[0]()});else for(e();i.AMapUI.length;)i.AMapUI.splice(0,1)[0]()},c.appendChild(u)}else t.AMapUI===o.loaded?n.version&&n.version!==a.AMapUI.version?r("不允许多个版本 AMapUI 混用"):s.length?window.AMapUI.loadUI(s,function(){for(var n=0,o=s.length;n<o;n++){var a=s[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}e()}):e():n.version&&n.version!==a.AMapUI.version?r("不允许多个版本 AMapUI 混用"):i.AMapUI.push(function(n){n?r(n):s.length?window.AMapUI.loadUI(s,function(){for(var n=0,o=s.length;n<o;n++){var a=s[n].split("/").slice(-1)[0];window.AMapUI[a]=arguments[n]}e()}):e()})}))),e.Loca&&s.push((r=e.Loca,new Promise(function(e,n){if(t.Loca===o.failed)n("前次请求 Loca 失败");else if(t.Loca===o.notload){t.Loca=o.loading,a.Loca.version=r.version||a.Loca.version;var s=a.Loca.version,l=a.AMap.version.startsWith("2"),c=s.startsWith("2");if(l&&!c||!l&&c)n("JSAPI 与 Loca 版本不对应！！");else{l=a.key,c=document.body||document.head;var u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/loca?v="+s+"&key="+l,u.onerror=function(e){t.Loca=o.failed,n("请求 AMapUI 失败")},u.onload=function(){for(t.Loca=o.loaded,e();i.Loca.length;)i.Loca.splice(0,1)[0]()},c.appendChild(u)}}else t.Loca===o.loaded?r.version&&r.version!==a.Loca.version?n("不允许多个版本 Loca 混用"):e():r.version&&r.version!==a.Loca.version?n("不允许多个版本 Loca 混用"):i.Loca.push(function(e){e?n(e):n()})}))),Promise.all(s)}if(!window)throw Error("AMap JSAPI can only be used in Browser.");(n=o||(o={})).notload="notload",n.loading="loading",n.loaded="loaded",n.failed="failed";var n,o,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},t={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},i={AMap:[],AMapUI:[],Loca:[]},r=[],s=function(e){"function"==typeof e&&(t.AMap===o.loaded?e(window.AMap):r.push(e))};return{load:function(n){return new Promise(function(i,l){if(t.AMap==o.failed)l("");else if(t.AMap==o.notload){var c=n.key,u=n.version,p=n.plugins;c?(window.AMap&&"lbs.amap.com"!==location.host&&l("禁止多种API加载方式混用"),a.key=c,a.AMap.version=u||a.AMap.version,a.AMap.plugins=p||a.AMap.plugins,t.AMap=o.loading,u=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)t.AMap=o.failed,l(a);else for(t.AMap=o.loaded,e(n).then(function(){i(window.AMap)}).catch(l);r.length;)r.splice(0,1)[0]()},(p=document.createElement("script")).type="text/javascript",p.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+c+"&plugin="+a.AMap.plugins.join(","),p.onerror=function(e){t.AMap=o.failed,l(e)},u.appendChild(p)):l("请填写key")}else if(t.AMap==o.loaded){if(n.key&&n.key!==a.key)l("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)l("不允许多个版本 JSAPI 混用");else{if(c=[],n.plugins)for(u=0;u<n.plugins.length;u+=1)-1==a.AMap.plugins.indexOf(n.plugins[u])&&c.push(n.plugins[u]);c.length?window.AMap.plugin(c,function(){e(n).then(function(){i(window.AMap)}).catch(l)}):e(n).then(function(){i(window.AMap)}).catch(l)}}else if(n.key&&n.key!==a.key)l("多个不一致的 key");else if(n.version&&n.version!==a.AMap.version)l("不允许多个版本 JSAPI 混用");else{var d=[];if(n.plugins)for(u=0;u<n.plugins.length;u+=1)-1==a.AMap.plugins.indexOf(n.plugins[u])&&d.push(n.plugins[u]);s(function(){d.length?window.AMap.plugin(d,function(){e(n).then(function(){i(window.AMap)}).catch(l)}):e(n).then(function(){i(window.AMap)}).catch(l)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},t={AMap:o.notload,AMapUI:o.notload,Loca:o.notload},i={AMap:[],AMapUI:[],Loca:[]}}}},e.exports=n()},5732:function(e,n,o){function a(e,n){if(null==e)return{};var o={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==n.indexOf(a))continue;o[a]=e[a]}return o}o.d(n,{_F:function(){return c},D5:function(){return I},Jx:function(){return k}});var t,i=o(2265),r=o(4368),s=o(7437),l=["children"],c=e=>{var{children:n}=e,o=a(e,l),[t,c]=(0,i.useState)(!1),[u,p]=(0,i.useState)();return((0,i.useEffect)(()=>{var e=o.akey||"",n=o.plugins;(0,r.load)({key:e,plugins:n,version:o.version||"2.0",AMapUI:o.AMapUI,Loca:o.Loca}).then(()=>{p(void 0),c(!0)}).catch(e=>{p(e)})},[o.akey]),u)?(0,s.jsx)("div",{style:{color:"red"},children:u.message}):t?(0,s.jsx)(i.Fragment,{children:n}):null};function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var a in o)({}).hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(null,arguments)}var p=o(4887),d=()=>{var[e]=(0,i.useState)(()=>document.createElement("div"));return{Portal:(0,i.useCallback)(function(n){var{children:o}=n;return o?(0,p.createPortal)(o,e):null},[e]),container:e}};function f(e,n,o,a){void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach(o=>{var a=n[o];(0,i.useEffect)(()=>{if(e){var n=o.toLocaleLowerCase().replace(/^on/,"");return a&&n&&e.on(n,a),()=>{n&&a&&e.off(n,a)}}},[e,a])})}function v(e,n,o){void 0===e&&(e={}),void 0===n&&(n={}),void 0===o&&(o=[]),o.forEach(o=>{var a="set"+o,t=n[""+o.charAt(0).toLowerCase()+o.slice(1)],[r,s]=(0,i.useState)(t);(0,i.useEffect)(()=>{e&&void 0!==t&&t!==r&&e[a]&&"function"==typeof e[a]&&(e[a](t),s(t))},[e,t])})}var M={map:void 0,AMap:void 0,container:void 0},A=(e,n)=>u({},e,n),h=i.createContext({state:M,dispatch:()=>null});function g(){var{state:e,dispatch:n}=(0,i.useContext)(h);return u({},e,{state:e,dispatch:n})}var w=function(e){void 0===e&&(e={});var n,o,a=u({},(function(e){if(null==e)throw TypeError("Cannot destructure "+e)}(e),e)),[t,r]=(0,i.useState)(),[s,l]=(0,i.useState)(e.zoom||15),[c,p]=(0,i.useState)(e.container),{dispatch:d}=(0,i.useContext)(h);return(0,i.useEffect)(()=>(c&&!t&&AMap&&(c.className=c.className+" react-amap-wapper",r(new AMap.Map(c,u({zoom:s},a)))),()=>{t&&(t.clearInfoWindow(),t.clearLimitBounds(),t.clearMap(),t.destroy(),r(void 0))}),[c,t]),(0,i.useEffect)(()=>(t&&c&&d({map:t,container:c,AMap}),()=>{d({map:void 0,container:void 0,AMap:void 0})}),[t,c]),(0,i.useMemo)(()=>{t&&"number"==typeof e.zoom&&s!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(l(e.zoom),t.setZoom(e.zoom))},[s,e.zoom]),(0,i.useMemo)(()=>{e.center&&t&&t.setCenter(e.center)},[t,e.center]),o=["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"],void 0===(n=e)&&(n={}),void 0===o&&(o=[]),o.forEach(e=>{var[o,a]=(0,i.useState)(n[e]);(0,i.useEffect)(()=>{if(t&&void 0!==n[e]&&n[e]!==o){var i=t.getStatus();t.setStatus(u({},i,{[e]:n[e]})),a(n[e])}},[t,n[e]])}),v(t,e,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),f(t,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:t,setMap:r,zoom:s,setZoom:l,container:c,setContainer:p}},m=["className","children"],I=(0,i.forwardRef)((e,n)=>{var{className:o,children:t}=e,r=a(e,m),l=window.AMap,[c,p]=(0,i.useReducer)(A,M),d=(0,i.useRef)(null),{setContainer:f,container:v,map:g}=w(u({container:r.container||d.current},r));return(0,i.useEffect)(()=>f(d.current),[d.current]),(0,i.useImperativeHandle)(n,()=>u({},r,{map:g,AMap:l,container:r.container||d.current}),[g]),(0,i.useEffect)(()=>{g&&p({map:g,container:d.current,AMap:l})},[g]),(0,s.jsxs)(h.Provider,{value:u({},c,{state:c,dispatch:p}),children:[!r.container&&(0,s.jsx)("div",{ref:d,className:o,style:u({fontSize:1,width:"100%",height:"100%"},r.style)}),l&&g&&"function"==typeof t&&t({AMap:l,map:g,container:v}),l&&g&&"function"!=typeof t&&t]})}),E=["position"],L=function(e){void 0===e&&(e={});var{position:n}=e,o=a(e,E),{map:t}=g(),[r,s]=(0,i.useState)();return(0,i.useEffect)(()=>{if(AMap&&t&&!r){var e=new AMap.ContextMenu(u({},o));s(e);var a=o=>e.open(t,n||o.lnglat);return t.on("rightclick",a),()=>{e&&(e.close(),t.off("rightclick",a),s(void 0))}}},[t]),f(r,e,["onOpen","onClose"]),{contextMenu:r,setContextMenu:s}},U=function(){};i.forwardRef((e,n)=>{var{contextMenu:o}=L(e);(0,i.useImperativeHandle)(n,()=>u({},e,{contextMenu:o}));var a=i.Children.toArray(e.children);return(0,s.jsx)(i.Fragment,{children:AMap&&o&&a.map((n,a)=>i.isValidElement(n)?i.cloneElement(n,u({},n.props,{AMap,map:e.map,contextMenu:o,key:a})):null)})}).Item=function(e){void 0===e&&(e={});var{text:n="",onClick:o=U}=e;return(0,i.useEffect)(()=>(e.contextMenu&&e.contextMenu.addItem(n,o,1),()=>{e.contextMenu&&e.contextMenu.removeItem(n,o)}),[e.contextMenu,e.text,e.onClick]),null};var y=["visiable","visible","children"],C=function(e){void 0===e&&(e={});var{visiable:n,visible:o}=e,t=a(e,y),{map:r}=g(),[s,l]=(0,i.useState)(),{container:c,Portal:p}=d();return(0,i.useLayoutEffect)(()=>{if(r&&!s){e.children&&(t.content=c);var n=new AMap.Marker(u({},t));return r.add(n),l(n),()=>{n&&(n.setMap(null),l(void 0))}}},[r]),!function(e,n){var[o,a]=(0,i.useState)(n);(0,i.useEffect)(()=>{e&&void 0!==n&&(n?e.show&&e.show():e.hide&&e.hide(),n!==o&&a(n))},[e,n])}(s,null!=o?o:n),v(s,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),f(s,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:s,setMarker:l,MarkerPortal:p}},k=(0,i.forwardRef)((e,n)=>{var{marker:o,MarkerPortal:a}=C(e);return(0,i.useImperativeHandle)(n,()=>u({},e,{marker:o}),[o]),(0,s.jsx)(a,{children:e.children})});(t={})[t.MARKER=0]="MARKER",t[t.POLYLINE=1]="POLYLINE",t[t.POLYGON=2]="POLYGON",t[t.CIRCLE=3]="CIRCLE",t[t.RECTANGLE=4]="RECTANGLE",t[t.MEASUREAREA=5]="MEASUREAREA",t[t.RULE=6]="RULE",t[t.RECTZOOMIN=7]="RECTZOOMIN",t[t.RECTZOOMOUT=8]="RECTZOOMOUT"}}]);